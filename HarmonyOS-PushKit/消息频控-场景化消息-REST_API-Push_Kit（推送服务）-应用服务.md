Push Kit消息频控包括场景化消息频控、设备消息频控、测试消息频控和消息推送速率管控，当超过了某个频控规则限制会返回对应的[回执状态码](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt#section19100519195717)。

说明

消息频控的数量是指应用发起消息推送请求的数量，无论设备是否成功展示消息都会增加计数，如果消息未按预期展示，建议不要频繁发起消息推送请求，请先进行[问题排查](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-faq-2)。

## 场景化消息频控

为了给用户提供更好的体验，营造清朗网络空间，华为推送服务根据不同的[推送场景](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-scenes)，设置了多条频控规则。

若场景化消息超出对应的频控规则限制，推送服务将向您的回执服务器返回**256结果码**，详情请参考[回执状态码](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt#section19100519195717)。

具体频控规则见下表：

展开

| 
场景

 | 

频控规则

 |
| --- | --- |
| 

通知消息

 | 

1.应用违规处罚时，按照处罚频次限制，参考[通知违规处罚标准](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-punishment-standards)。

2.消息为资讯营销类（[category](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section17371529101117)取值为MARKETING）时，按照应用营销消息频次限制，参考[通知消息推送数量管理规则](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-apply-right#section1128516504398)（若未[开通消息自分类权益](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-send-alert#section15809122792917)，则推送的通知消息默认为资讯营销类消息）。

 |
| 

卡片刷新消息

 | 

按照应用下单个卡片限制刷新频次。

默认频次：应用每个设备单个卡片已上架为2条/天，未上架为5条/天。

 |
| 

实况窗消息

 | 

单个实况窗消息每个设备每5分钟最多更新10次，每小时最多更新60次。

出行打车与赛事比分场景，5分钟最多更新30次，每小时最多更新180次。

 |

## 设备消息频控

除了单个场景的次数限制外，推送服务还对单个设备下的单个应用一天内所能接收的所有消息总量进行了限制，系统会根据现网使用场景和流量进行管控，不合理的使用场景系统会进行频控，并且推送服务将向您的回执服务器返回**102结果码**，详情请参考[回执状态码](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt#section19100519195717)。

## 测试消息频控

为了方便开发者测试消息，您可以设置pushOptions.[testMessage](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-request-param#section418321011212)为true，发送测试消息。

每个项目每日可推送总共1000条测试消息（非设备级，所有设备共用1000条）且不受[场景化消息频控](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-msg-freq-control#section551882820368)。若项目当天已推送超过1000条测试消息，则会进行消息限流（限流直到次日后恢复），并且推送服务将向您的回执服务器返回**256结果码**，详情请参考[回执状态码](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/push-msg-receipt#section19100519195717)。

## 消息推送速率管控

消息推送速率是指应用QPS（每秒推送的设备个数），当应用QPS超过阈值时请求会返回[HTTP响应码](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-response#section4405122736) 503。应用QPS与应用类型相关，并且随着应用在华为终端上的月活跃用户人数增加而增长，您可以登录[AppGallery Connect](https://developer.huawei.com/consumer/cn/service/josp/agc/index.html)查询到应用QPS阈值，查询路径：“开发与服务 > 推送服务 > 配置 > 选择应用”，选择需要查看的应用，下方即可查到对应的QPS阈值。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20260213154240.90491323867492354916023233536356:50001231000000:2800:AFE1597A6673E9650E53F1D2F9ED646DE46BDE79152A786A76E5EDE562E3C0B8.png)

说明

+   全网流量较高时，会出现系统级流控，请求也会返回[HTTP响应码](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/push-scenariozed-api-response#section4405122736) 503。

相关推荐

意见反馈

以上内容对您是否有帮助？

意见反馈

如果您有其他疑问，您也可以通过开发者社区问答频道来和我们联系探讨。